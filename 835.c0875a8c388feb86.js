"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[835],{8835:(G,_,g)=>{g.r(_),g.d(_,{BookingModule:()=>K});var l=g(9808),P=g(6554),p=g(3287),a=g(3075);const k=[{name:"Developer",floor:1},{name:"Administrator",floor:2}];var o=g(5e3),f=g(6531),h=g(6363),C=g(4449);let Z=(()=>{class n{constructor(){this.roles=h.b}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-nav"]],inputs:{today:"today",user:"user"},decls:11,vars:6,consts:[[1,"booking-sidebar"],[1,"booking-title"],["routerLinkActive","active",1,"booking-link",3,"routerLink"]],template:function(t,e){1&t&&(o.TgZ(0,"nav",0)(1,"h1",1),o._uU(2,"Booking App"),o.qZA(),o.TgZ(3,"h3",1),o._uU(4),o.ALo(5,"date"),o.qZA(),o.TgZ(6,"mat-list")(7,"mat-list-item",2),o._uU(8," Developers "),o.qZA(),o.TgZ(9,"mat-list-item",2),o._uU(10," Administrators "),o.qZA()()()),2&t&&(o.xp6(4),o.hij("Today: ",o.xi3(5,3,e.today.value,"dd.MM.yyyy"),""),o.xp6(3),o.Q6J("routerLink","developers"),o.xp6(2),o.Q6J("routerLink","administrators"))},directives:[C.i$,C.Tg,p.Od,p.rH],pipes:[l.uU],styles:[".booking-title[_ngcontent-%COMP%]{padding:0 16px}.booking-link[_ngcontent-%COMP%]{cursor:pointer}.booking-link.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.booking-link.disabled[_ngcontent-%COMP%]{pointer-events:none;background:rgba(169,169,169,.3);color:#a9a9a9!important}.booking-sidebar[_ngcontent-%COMP%]{background:var(--bs-purple);height:100vh;padding-top:20px;color:#fff}.booking-sidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:5px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#fff}"]}),n})();var c=g(3248),B=g(8457),u=g(3489),x=g(7531),m=g(6856),v=g(7423);let w=(()=>{class n{constructor(t,e){this.router=t,this.store=e,this.currentDate=new a.NI(new Date)}ngOnInit(){}onChangeEvent(t){this.store.dispatch(new c.Q4(t.value)),this.store.dispatch(new c.hd(t.value))}onLogout(){this.store.dispatch(new B.d6),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.F0),o.Y36(f.yh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-top"]],inputs:{user:"user"},decls:16,vars:5,consts:[[1,"booking-top"],[1,"booking-actions"],["appearance","fill"],["matInput","",3,"matDatepicker","formControl","dateChange"],["matSuffix","",3,"for"],["picker",""],[1,"booking-buttons"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){if(1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),o._uU(4,"Choose a date"),o.qZA(),o.TgZ(5,"input",3),o.NdJ("dateChange",function(r){return e.onChangeEvent(r)}),o.qZA(),o._UZ(6,"mat-datepicker-toggle",4)(7,"mat-datepicker",null,5),o.qZA()(),o.TgZ(9,"div",6)(10,"h3"),o._uU(11),o.TgZ(12,"span"),o._uU(13),o.qZA()(),o.TgZ(14,"button",7),o.NdJ("click",function(){return e.onLogout()}),o._uU(15,"Logout"),o.qZA()()()),2&t){const s=o.MAs(8);o.xp6(5),o.Q6J("matDatepicker",s)("formControl",e.currentDate),o.xp6(1),o.Q6J("for",s),o.xp6(5),o.hij(" ",e.user.name," "),o.xp6(2),o.hij("Role: ",e.user.role,"")}},directives:[u.KE,u.hX,x.Nt,m.hl,a.Fj,a.JJ,a.oH,m.nW,u.R9,m.Mq,v.lW],styles:[".booking[_ngcontent-%COMP%]{height:100vh}.booking-main[_ngcontent-%COMP%]{padding-top:20px}.booking-title[_ngcontent-%COMP%]{padding:0 16px}.booking[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:0}.booking-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.booking-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:10px}.booking-top[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.booking-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.booking-buttons[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0;text-transform:capitalize}.booking-buttons[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#707070;display:block;line-height:100%;font-size:14px}.booking-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#fff}"]}),n})(),T=(()=>{class n{constructor(t,e){this.router=t,this.store=e,this.today=new a.NI(new Date),this.roles=k}ngOnInit(){this.store.select("auth").subscribe(t=>{this.token=t.token,this.user=t.userCurrent}),this.guard()}guard(){this.token||this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.F0),o.Y36(f.yh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking"]],outputs:{today:"today"},decls:9,vars:3,consts:[[1,"booking"],[1,"container-fluid"],[1,"row"],[1,"col-2",2,"padding-right","0"],[3,"today","user"],[1,"col-10"],[1,"booking-main"],[3,"user"]],template:function(t,e){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"app-booking-nav",4),o.qZA(),o.TgZ(5,"div",5)(6,"main",6),o._UZ(7,"app-booking-top",7)(8,"router-outlet"),o.qZA()()()()()),2&t&&(o.xp6(4),o.Q6J("today",e.today)("user",e.user),o.xp6(3),o.Q6J("user",e.user))},directives:[Z,w,p.lC],styles:[".booking[_ngcontent-%COMP%]{height:100vh}.booking-main[_ngcontent-%COMP%]{padding-top:20px}.booking-title[_ngcontent-%COMP%]{padding:0 16px}.booking[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:0}.booking-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.booking-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:10px}.booking-wrap[_ngcontent-%COMP%]{position:relative;margin-bottom:30px;border:6px solid #F5F5F5;padding:10px}.booking-caption[_ngcontent-%COMP%]{position:absolute;left:0;top:0;background:white;padding:5px 10px;margin-bottom:0;transform:translate(5px,-20px);line-height:100%}.booking-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.booking-buttons[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.booking-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px}.booking-link[_ngcontent-%COMP%]{cursor:pointer}.booking-link.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.booking-list[_ngcontent-%COMP%]{width:100%;list-style:none;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:10px;justify-content:space-between}.booking-item[_ngcontent-%COMP%]{flex:0 18%;display:flex;align-items:center;justify-content:center;height:15vh;cursor:pointer;transition:all .3s ease;position:relative}.booking-item.disabled[_ngcontent-%COMP%]{pointer-events:none;background:#F5F5F5;color:#707070}.booking-item[_ngcontent-%COMP%]:hover, .booking-item.active[_ngcontent-%COMP%]{background:var(--bs-purple);color:#fff}.booking-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.booking-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;bottom:10px;font-size:10px;font-weight:500;line-height:100%}.booking-room[_ngcontent-%COMP%]{height:20vh;display:flex;align-items:center;justify-content:center}.booking-room[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#fff}"]}),n})();var d=g(8966),A=g(605),F=g(8332);function D(n,i){1&n&&o._UZ(0,"app-loader")}function J(n,i){1&n&&(o.TgZ(0,"div")(1,"button",18),o._uU(2,"Booking"),o.qZA()())}function N(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"button",19),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).onUpdateBooking()}),o._uU(2,"Update"),o.qZA(),o.TgZ(3,"button",20),o.NdJ("click",function(){o.CHM(t);const s=o.oxw(2);return s.onDeleteBooking(s.bookingData.booking_id)}),o._uU(4,"Delete"),o.qZA()()}}function U(n,i){if(1&n&&o._UZ(0,"app-alert",21),2&n){const t=o.oxw(2);o.Q6J("message",t.message)("status",t.status)}}function I(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"div",3)(1,"form",4),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().onSetBooking()}),o.TgZ(2,"h1",5),o._uU(3,"Booking"),o.qZA(),o.TgZ(4,"mat-dialog-content",6)(5,"mat-form-field",7)(6,"mat-label"),o._uU(7,"Name"),o.qZA(),o._UZ(8,"input",8),o.qZA(),o.TgZ(9,"mat-form-field",7)(10,"mat-label"),o._uU(11,"Table"),o.qZA(),o._UZ(12,"input",9),o.qZA(),o.TgZ(13,"mat-form-field",10)(14,"mat-label"),o._uU(15,"Enter a date range"),o.qZA(),o.TgZ(16,"mat-date-range-input",11),o._UZ(17,"input",12)(18,"input",13),o.qZA(),o.TgZ(19,"mat-hint"),o._uU(20,"MM/DD/YYYY \u2013 MM/DD/YYYY"),o.qZA(),o._UZ(21,"mat-datepicker-toggle",14)(22,"mat-date-range-picker",null,15),o.qZA()(),o.TgZ(24,"mat-dialog-actions"),o.YNc(25,J,3,0,"div",1),o.YNc(26,N,5,0,"div",1),o.TgZ(27,"button",16),o._uU(28,"Close"),o.qZA()()(),o.YNc(29,U,1,2,"app-alert",17),o.qZA()}if(2&n){const t=o.MAs(23),e=o.oxw();o.xp6(1),o.Q6J("formGroup",e.bookingForm),o.xp6(7),o.Q6J("ngModel",e.bookingData.name),o.xp6(4),o.Q6J("ngModel",e.bookingData.number),o.xp6(4),o.Q6J("rangePicker",t)("comparisonStart",e.bookingForm.value.time.start)("comparisonEnd",e.bookingForm.value.time.end),o.xp6(5),o.Q6J("for",t),o.xp6(4),o.Q6J("ngIf",!e.bookingData.booking_id),o.xp6(1),o.Q6J("ngIf",e.bookingData.booking_id),o.xp6(3),o.Q6J("ngIf",!e.loading&&e.message)}}let M=(()=>{class n{constructor(t,e,s){this.bookingData=t,this.store=e,this.dialog=s,this.loading=!1}ngOnInit(){this.setBookingForm()}ngOnDestroy(){this.store.select("booking").subscribe().unsubscribe()}setBookingForm(){this.bookingForm=new a.cw({name:new a.NI("",a.kI.required),table:new a.NI("",a.kI.required),time:new a.cw({start:new a.NI(this.bookingData.start,a.kI.required),end:new a.NI(this.bookingData.end,a.kI.required)})})}onSetBooking(){if(!this.bookingForm.valid)return;this.loading=!0;const t={user_id:this.bookingData.user_id,table_id:this.bookingForm.value.table,time_start:this.bookingForm.value.time.start,time_end:this.bookingForm.value.time.end,floor_id:this.bookingData.floor_id};console.log(t),this.store.dispatch(new c.Zz(t)),this.store.select("booking").subscribe(e=>{e.message.length&&(this.loading=!1,this.message="",this.dialog.closeAll())})}onDeleteBooking(t){this.store.dispatch(new c.xo(t)),this.store.select("booking").subscribe(e=>{e.message.length&&(this.loading=!1,this.message="",this.dialog.closeAll())})}onUpdateBooking(){this.bookingForm.valid&&(this.loading=!0,this.store.dispatch(new c.aX({user_id:this.bookingData.user_id,table_id:this.bookingForm.value.table,time_start:this.bookingForm.value.time.start,time_end:this.bookingForm.value.time.end,booking_id:this.bookingData.booking_id})),this.store.select("booking").subscribe(e=>{e.message.length&&(this.loading=!1,this.message="",this.dialog.closeAll())}))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(d.WI),o.Y36(f.yh),o.Y36(d.uw))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-dialog"]],outputs:{message:"message",status:"status"},decls:3,vars:2,consts:[[1,"booking-dialog"],[4,"ngIf"],["class","booking-wrap",4,"ngIf"],[1,"booking-wrap"],[1,"booking-form",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"booking-form"],["appearance","fill",1,"example-full-width"],["formControlName","name","matInput","",3,"ngModel"],["formControlName","table","matInput","","readonly","",3,"ngModel"],["appearance","fill","formGroupName","time"],[3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder","Start date","formControlName","start"],["matEndDate","","placeholder","End date","formControlName","end"],["matSuffix","",3,"for"],["picker",""],["type","button","mat-button","","mat-dialog-close","true","color","primary"],[3,"message","status",4,"ngIf"],["type","submit","mat-button","","mat-raised-button","","color","primary"],["type","button","mat-button","","mat-raised-button","","color","primary",3,"click"],["type","button","mat-button","","mat-raised-button","","color","warn",3,"click"],[3,"message","status"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,D,1,0,"app-loader",1),o.YNc(2,I,30,10,"div",2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",e.loading),o.xp6(1),o.Q6J("ngIf",!e.loading))},directives:[l.O5,A.R,a._Y,a.JL,a.sg,d.uh,d.xY,u.KE,u.hX,a.Fj,x.Nt,a.JJ,a.u,a.x0,m.wx,m.zY,m.By,u.bx,m.nW,u.R9,m._g,d.H8,v.lW,d.ZT,F.w],styles:[".booking-dialog[_ngcontent-%COMP%]{width:400px}.booking-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.booking-loader[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:50px 0}.booking-success[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px 0}form.booking-form[_ngcontent-%COMP%]{margin-bottom:30px}"]}),n})();var O=g(5245);function Y(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"My booking"),o.qZA())}function q(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"Only for devs"),o.qZA())}const y=function(n,i){return{active:n,disabled:i}};function Q(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"li",7),o.NdJ("click",function(){const r=o.CHM(t).$implicit;return o.oxw().onBookingOpen(r)}),o.TgZ(1,"mat-icon",8),o._uU(2,"table_restaurant"),o.qZA(),o.YNc(3,Y,2,0,"span",9),o.YNc(4,q,2,0,"span",9),o.qZA()}if(2&n){const t=i.$implicit,e=o.oxw();o.Q6J("ngClass",o.WLB(3,y,t.myBooking,t.status||e.user.role===e.rolesEnum.admin)),o.xp6(3),o.Q6J("ngIf",t.myBooking),o.xp6(1),o.Q6J("ngIf",e.user.role===e.rolesEnum.admin)}}function E(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"My booking"),o.qZA())}function j(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"Only for admin"),o.qZA())}function z(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"div",7),o.NdJ("click",function(){o.CHM(t);const s=o.oxw();return s.onBookingOpen(s.meetingRoom)}),o.TgZ(1,"mat-icon"),o._uU(2,"people"),o.qZA(),o.YNc(3,E,2,0,"span",9),o.YNc(4,j,2,0,"span",9),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",o.WLB(3,y,t.meetingRoom.myBooking,t.meetingRoom.status||t.user.role===t.rolesEnum.developer)),o.xp6(3),o.Q6J("ngIf",t.meetingRoom.myBooking),o.xp6(1),o.Q6J("ngIf",t.user.role===t.rolesEnum.developer)}}function S(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"Only for admin"),o.qZA())}function L(n,i){1&n&&(o.TgZ(0,"span"),o._uU(1,"My booking"),o.qZA())}const H=function(n,i){return{active:n,disabled:i}};function X(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"li",4),o.NdJ("click",function(){const r=o.CHM(t).$implicit;return o.oxw().onBookingOpen(r)}),o.TgZ(1,"mat-icon",5),o._uU(2,"table_restaurant"),o.qZA(),o.YNc(3,S,2,0,"span",6),o.YNc(4,L,2,0,"span",6),o.qZA()}if(2&n){const t=i.$implicit,e=o.oxw();o.Q6J("ngClass",o.WLB(3,H,t.myBooking,t.status||e.user.role===e.rolesEnum.developer)),o.xp6(3),o.Q6J("ngIf",e.user.role===e.rolesEnum.developer),o.xp6(1),o.Q6J("ngIf",t.myBooking)}}const W=[{path:"",component:T,children:[{path:"developers",component:(()=>{class n{constructor(t,e,s){this.router=t,this.dialog=e,this.store=s,this.today=new a.NI(new Date),this.roles=k,this.rolesEnum=h.b}ngOnInit(){this.store.dispatch(new c.hd(this.today.value)),this.store.dispatch(new c.K7(this.roles[0].floor)),this.store.select("auth").subscribe(t=>{this.user=t.userCurrent}),this.store.select("booking").subscribe(t=>{this.office=t.office,this.bookings=t.booking,this.selectDay=t.selectDay,this.office.length&&this.bookings.length&&this.showBooking()})}onBookingOpen(t){this.dialog.open(M,{data:{number:t.number,start:t.time_start?t.time_start:this.selectDay,end:t.time_end?t.time_end:"",name:this.user.name,user_id:this.user.id,booking_id:t.booking_id,floor_id:this.roles[0].floor}})}showBooking(){const t=[];this.office.forEach(e=>{const s=Object.assign({},e);if(this.bookings.find(r=>r.table_id===e.number&&r.floor_id===this.roles[0].floor)){s.status=!0;let r=this.bookings.findIndex(b=>b.table_id===e.number);this.bookings[r].user_id===this.user.id&&(s.myBooking=!0,s.status=!1,s.booking_id=this.bookings[r].id,s.time_start=this.bookings[r].time_start,s.time_end=this.bookings[r].time_end)}else s.status=!1;s.isMeetingRoom?this.meetingRoom=s:t.push(s)}),this.office=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.F0),o.Y36(d.uw),o.Y36(f.yh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-developers"]],inputs:{user:"user"},decls:10,vars:2,consts:[[1,"booking-office","booking-wrap"],[1,"booking-caption"],[1,"booking-list"],["class","booking-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"booking-body-group"],[1,"booking-meeting-room","booking-wrap"],["class","booking-item",3,"ngClass","click",4,"ngIf"],[1,"booking-item",3,"ngClass","click"],["aria-hidden","false"],[4,"ngIf"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Developers Office"),o.qZA(),o.TgZ(3,"ul",2),o.YNc(4,Q,5,6,"li",3),o.qZA()(),o.TgZ(5,"div",4)(6,"div",5)(7,"h2",1),o._uU(8,"Meeting room"),o.qZA(),o.YNc(9,z,5,6,"div",6),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("ngForOf",e.office),o.xp6(5),o.Q6J("ngIf",e.meetingRoom))},directives:[l.sg,l.mk,O.Hw,l.O5],styles:[".booking[_ngcontent-%COMP%]{height:100vh}.booking-wrap[_ngcontent-%COMP%]{position:relative;margin-bottom:30px;border:6px solid #F5F5F5;padding:10px;width:60%}.booking-caption[_ngcontent-%COMP%]{position:absolute;left:0;top:0;background:white;padding:5px 10px;margin-bottom:0;transform:translate(5px,-20px);line-height:100%}.booking-link[_ngcontent-%COMP%]{cursor:pointer}.booking-link.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.booking-list[_ngcontent-%COMP%]{width:100%;list-style:none;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:10px;justify-content:space-between}.booking-item[_ngcontent-%COMP%]{flex:0 18%;display:flex;align-items:center;justify-content:center;height:15vh;cursor:pointer;transition:all .3s ease;position:relative}.booking-item.disabled[_ngcontent-%COMP%]{pointer-events:none;background:#F5F5F5;color:#707070}.booking-item[_ngcontent-%COMP%]:hover, .booking-item.active[_ngcontent-%COMP%]{background:var(--bs-purple);color:#fff}.booking-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.booking-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;bottom:10px;font-size:10px;font-weight:500;line-height:100%}.booking-room[_ngcontent-%COMP%]{height:20vh;display:flex;align-items:center;justify-content:center}.booking-room[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.booking-body-group[_ngcontent-%COMP%]{display:flex;gap:15px;width:60%}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"administrators",component:(()=>{class n{constructor(t,e){this.store=t,this.dialog=e,this.today=new a.NI(new Date),this.roles=k,this.rolesEnum=h.b}ngOnInit(){this.store.dispatch(new c.hd(this.selectDay)),this.store.dispatch(new c.K7(this.roles[1].floor)),this.store.select("auth").subscribe(t=>{this.user=t.userCurrent}),this.store.select("booking").subscribe(t=>{this.office=t.office,this.bookings=t.booking,this.selectDay=t.selectDay,this.office.length&&this.bookings.length&&this.showBooking()})}showBooking(){const t=[];this.office.forEach(e=>{const s=Object.assign({},e);if(this.bookings.find(r=>r.table_id===e.number&&r.floor_id===this.roles[1].floor)){s.status=!0;let r=this.bookings.findIndex(b=>b.table_id===e.number);this.bookings[r].user_id===this.user.id&&(s.myBooking=!0,s.status=!1,s.booking_id=this.bookings[r].id,s.time_start=this.bookings[r].time_start,s.time_end=this.bookings[r].time_end)}else s.status=!1;t.push(s)}),this.office=t}onBookingOpen(t){this.dialog.open(M,{data:{number:t.number,start:t.time_start?t.time_start:this.selectDay,end:t.time_end?t.time_end:"",name:this.user.name,user_id:this.user.id,booking_id:t.booking_id,floor_id:this.roles[1].floor}})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(f.yh),o.Y36(d.uw))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-administrators"]],inputs:{user:"user"},decls:5,vars:1,consts:[[1,"booking-office","booking-wrap"],[1,"booking-caption"],[1,"booking-list"],["class","booking-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"booking-item",3,"ngClass","click"],["aria-hidden","false"],[4,"ngIf"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Administrators Office"),o.qZA(),o.TgZ(3,"ul",2),o.YNc(4,X,5,6,"li",3),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("ngForOf",e.office))},directives:[l.sg,l.mk,O.Hw,l.O5],styles:[".booking[_ngcontent-%COMP%]{height:100vh}.booking-wrap[_ngcontent-%COMP%]{position:relative;margin-bottom:30px;border:6px solid #F5F5F5;padding:10px;width:60%}.booking-caption[_ngcontent-%COMP%]{position:absolute;left:0;top:0;background:white;padding:5px 10px;margin-bottom:0;transform:translate(5px,-20px);line-height:100%}.booking-link[_ngcontent-%COMP%]{cursor:pointer}.booking-link.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.booking-list[_ngcontent-%COMP%]{width:100%;list-style:none;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:10px;justify-content:space-between}.booking-item[_ngcontent-%COMP%]{flex:0 18%;display:flex;align-items:center;justify-content:center;height:15vh;cursor:pointer;transition:all .3s ease;position:relative}.booking-item.disabled[_ngcontent-%COMP%]{pointer-events:none;background:#F5F5F5;color:#707070}.booking-item[_ngcontent-%COMP%]:hover, .booking-item.active[_ngcontent-%COMP%]{background:var(--bs-purple);color:#fff}.booking-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.booking-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;bottom:10px;font-size:10px;font-weight:500;line-height:100%}.booking-room[_ngcontent-%COMP%]{height:20vh;display:flex;align-items:center;justify-content:center}.booking-room[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:45px;width:45px;height:45px}.booking-body-group[_ngcontent-%COMP%]{display:flex;gap:15px;width:60%}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:#fff}"]}),n})()}]}];let $=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[p.Bz.forChild(W)],p.Bz]}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[l.ez,P.m,$]]}),n})()}}]);